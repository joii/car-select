{"ast":null,"code":"import React, { Component } from 'react';\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nvar button = function button(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"v360-menu-btns\",\n    onClick: props.clicked\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: props.icon\n  }), props.text);\n};\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\nvar css_248z = \"/* \\r\\n    Document   : style.css\\r\\n    Created on : Dec 26, 2019\\r\\n    Author     : Rajeev R. Gade\\r\\n    Description: Stylesheet for 360 viewer\\r\\n*/\\r\\nbody,\\r\\nhtml {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    margin: 0;\\r\\n    font-family: sans-serif;\\r\\n}\\r\\n\\r\\nroot {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.v360-main {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    max-width: 1024px;\\r\\n    margin: 20px auto;\\r\\n    position: relative;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    justify-content: flex-start;\\r\\n    align-items: stretch;\\r\\n    align-content: stretch;\\r\\n}\\r\\n\\r\\n/* HEADER */\\r\\n\\r\\n.v360-header {\\r\\n    /* width: calc(100% - 20px); */\\r\\n    background-color: #000;\\r\\n    padding: 10px;\\r\\n    color: #FFFFFF;\\r\\n    font-size: 1.5em;\\r\\n    text-align: center;\\r\\n    font-weight: bold;\\r\\n    /* text-shadow: 1px 1px #000000; */\\r\\n    flex: 0 1 auto;\\r\\n}\\r\\n\\r\\n/* VIEWER */\\r\\n\\r\\n#productInsert {\\r\\n    background-color: #FFF;\\r\\n    width: 100%;\\r\\n    height: calc(100vh - 184px);\\r\\n    max-height: 768px;\\r\\n    position: relative;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.v360-fullscreen #productInsert {\\r\\n    height: 100vh;\\r\\n    max-height: none;\\r\\n}\\r\\n\\r\\n#viewport-wrapper {\\r\\n    width: 100%;\\r\\n    height: calc(100% - 10px);\\r\\n    margin: 5px auto;\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    transition: width 0.3s ease;\\r\\n}\\r\\n.v360-viewport {\\r\\n    background-color: #FFF;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    overflow: hidden;\\r\\n    /* position: absolute; */\\r\\n    left: 0;\\r\\n    /* transition: width 0.3s ease; */\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n#viewport-wrapper.wide {\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.v360-viewport iframe {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n    /* left: 50%;\\r\\n    -webkit-transform: translateX(-50%) translateY(0);\\r\\n    -ms-transform: translateX(-50%) translateY(0);\\r\\n    transform: translateX(-50%) translateY(0);\\r\\n    transform-origin: center center; */\\r\\n}\\r\\n\\r\\n.v360-viewport img {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n\\r\\n/* FULLSCREEN & MENU TOGGLE BUTTONS */\\r\\n\\r\\n.v360-fullscreen-toggle{\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n    margin: 15px;\\r\\n    position: absolute;\\r\\n    /* color: #999;\\r\\n    fill: #999; */\\r\\n    float: right;\\r\\n    cursor: pointer;\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    z-index: 150;\\r\\n}\\r\\n\\r\\n.v360-fullscreen-toggle:hover {\\r\\n    fill: #000;\\r\\n}\\r\\n/* \\r\\n.v360-fullscreen-toggle div:last-child {\\r\\n    display: none;\\r\\n} */\\r\\n\\r\\n.v360-fullscreen {\\r\\n    z-index: 9999;\\r\\n    width: 100%;\\r\\n    max-width: none;\\r\\n    height: 100%;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    position: fixed;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n.v360-fullscreen .v360-header,\\r\\n.v360-fullscreen #v360-menu-btns {\\r\\n    border-radius: 0;\\r\\n}\\r\\n\\r\\n.v360-fullscreen productInsert {\\r\\n    height: calc(100vh - 95px);\\r\\n    max-height: none;\\r\\n}\\r\\n\\r\\n.ui-accordion-header {\\r\\n    background-color: #B0BEC5;\\r\\n    outline: none;\\r\\n    line-height: 1.5em;\\r\\n    transition: all 0.3s ease;\\r\\n}\\r\\n\\r\\n.ui-accordion-header:hover,\\r\\n.ui-accordion-header.ui-state-active {\\r\\n    background-color: #607D8B;\\r\\n    color: #FFF;\\r\\n}\\r\\n\\r\\n/* MENU BUTTONS */\\r\\n\\r\\n#v360-menu-btns {\\r\\n    width: 100%;\\r\\n    padding: 5px 0;\\r\\n    text-align: center;\\r\\n    /* position: absolute; */\\r\\n    bottom: 0;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    z-index: 150;\\r\\n}\\r\\n\\r\\n.light{\\r\\n    background-color: #fff !important;\\r\\n}\\r\\n\\r\\n.dark{\\r\\n    background-color: #000 !important;\\r\\n}\\r\\n\\r\\n.v360-menu-btns {\\r\\n    /* background-color: #999; */\\r\\n    width: auto;\\r\\n    min-height: 20px;\\r\\n    margin: 5px 5px;\\r\\n    padding: 5px 10px;\\r\\n    border-radius: 5px;\\r\\n    outline: none;\\r\\n    font-size: 1.3em;\\r\\n    text-align: center;\\r\\n    line-height: 1em;\\r\\n    cursor: pointer;\\r\\n    user-select: none;\\r\\n    position: relative;\\r\\n    display: inline-block;\\r\\n    opacity: 1;\\r\\n}\\r\\n/* \\r\\n.v360-btn-active{\\r\\n    background-color: #000;\\r\\n} */\\r\\n\\r\\n.light .v360-menu-btns {\\r\\n    color: #000;\\r\\n}\\r\\n\\r\\n.dark .v360-menu-btns {\\r\\n    color: #fff;\\r\\n}\\r\\n  \\r\\n/* .light .v360-btn-active{\\r\\n    color: #fff;\\r\\n} */\\r\\n\\r\\n.light .v360-menu-btns:hover {\\r\\n    color: #fff;\\r\\n    background-color: #000;\\r\\n}\\r\\n\\r\\n.dark .v360-menu-btns:hover {\\r\\n    color: #000;\\r\\n    background-color: #fff;\\r\\n}\\r\\n\\r\\n.v360-main {\\r\\n    filter: alpha(opacity=50);\\r\\n    /* opacity: 0.5; */\\r\\n    cursor: default;\\r\\n    /* pointer-events: none; */\\r\\n}\\r\\n\\r\\n#v360-image-container {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    background-repeat: no-repeat;\\r\\n    background-position: center;\\r\\n    background-size: contain;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.v360-image-container {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    background-repeat: no-repeat;\\r\\n    background-position: center;\\r\\n    background-size: contain;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.v360-product-box-shadow{\\r\\n    position: absolute;\\r\\n    /* z-index: 99; */\\r\\n    top: 0px;\\r\\n    left: 0px;\\r\\n    right: 0px;\\r\\n    bottom: 0px;\\r\\n    box-shadow: rgb(34, 34, 34) 0px 0px 100px inset;\\r\\n}\\r\\n\\r\\n.v360-fullscreen-toggle-btn i{\\r\\n    /* background-color: #fff; */\\r\\n    font-size: 20px;\\r\\n}\\r\\n.v360-spinner-grow{\\r\\n    display: inline-block;\\r\\n    width: 2rem;\\r\\n    height: 2rem;\\r\\n    vertical-align: text-bottom;\\r\\n    background-color: rgb(33, 37, 41);\\r\\n    border-radius: 50%;\\r\\n    opacity: 0;\\r\\n    -webkit-animation: spinner-grow .75s linear infinite;\\r\\n    animation: spinner-grow .75s linear infinite;\\r\\n}\\r\\n.v360-percentage-description{\\r\\n    margin-left: 2rem;\\r\\n}\\r\\n\\r\\n\\r\\n/* Tooltip */\\r\\n\\r\\n.tooltip {\\r\\n    position: relative;\\r\\n    display: inline-block;\\r\\n  }\\r\\n  \\r\\n  .tooltip .tooltiptext {\\r\\n    visibility: hidden;\\r\\n    width: 120px;\\r\\n    background-color: #555;\\r\\n    color: #fff;\\r\\n    text-align: center;\\r\\n    border-radius: 6px;\\r\\n    padding: 5px 0;\\r\\n    position: absolute;\\r\\n    z-index: 1;\\r\\n    bottom: 125%;\\r\\n    left: 50%;\\r\\n    margin-left: -60px;\\r\\n    opacity: 0;\\r\\n    transition: opacity 0.3s;\\r\\n  }\\r\\n  \\r\\n  .tooltip .tooltiptext::after {\\r\\n    content: \\\"\\\";\\r\\n    position: absolute;\\r\\n    top: 100%;\\r\\n    left: 50%;\\r\\n    margin-left: -5px;\\r\\n    border-width: 5px;\\r\\n    border-style: solid;\\r\\n    border-color: #555 transparent transparent transparent;\\r\\n  }\\r\\n  \\r\\n  .tooltip:hover .tooltiptext {\\r\\n    visibility: visible;\\r\\n    opacity: 1;\\r\\n  }\\r\\n  \\r\\n  .tooltip{\\r\\n    opacity: 1 !important;\\r\\n  }\\r\\n\\r\\n  /* .hotspot-button{\\r\\n      position: absolute;\\r\\n  } */\";\nstyleInject(css_248z);\nvar React360Viewer = /*#__PURE__*/function (_Component) {\n  _inherits(React360Viewer, _Component);\n  var _super = _createSuper(React360Viewer);\n  function React360Viewer() {\n    var _this;\n    _classCallCheck(this, React360Viewer);\n    _this = _super.call(this); //this.imageContainerRef = React.createRef();\n\n    _defineProperty(_assertThisInitialized(_this), \"startDragging\", function (evt) {\n      _this.dragging = true;\n      document.body.style.mozUserSelect = document.body.style.webkitUserSelect = document.body.style.userSelect = 'none';\n      _this.setLastPositions(evt);\n      _this.dragStart = _this.ctx.transformedPoint(_this.state.lastX, _this.state.lastY);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"doDragging\", function (evt) {\n      _this.setLastPositions(evt);\n      if (_this.dragStart) {\n        var pt = _this.ctx.transformedPoint(_this.state.lastX, _this.state.lastY);\n        _this.ctx.translate(pt.x - _this.dragStart.x, pt.y - _this.dragStart.y); //redraw();\n\n        _this.redraw();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"stopDragging\", function (evt) {\n      _this.dragging = false;\n      _this.dragStart = null;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"prev\", function (e) {\n      //console.log(this.currentLeftPosition)\n\n      /* this.setState({\r\n          currentLeftPosition: 10\r\n      }) */\n      //this.currentLeftPosition = 10\n      _this.props.spinReverse ? _this.turnRight() : _this.turnLeft();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"next\", function (e) {\n      _this.props.spinReverse ? _this.turnLeft() : _this.turnRight();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"resetPosition\", function () {\n      _this.currentScale = 1;\n      _this.activeImage = 1;\n      _this.setImage(true);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"zoomImage\", function (evt) {\n      _this.setState({\n        lastX: evt.offsetX || evt.pageX - _this.canvas.offsetLeft,\n        lastY: evt.offsetY || evt.pageY - _this.canvas.offsetTop\n      });\n      var delta = evt.wheelDelta ? evt.wheelDelta / 40 : evt.deltaY ? -evt.deltaY : 0;\n      if (delta) _this.zoom(delta); //return evt.preventDefault() && false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"zoomIn\", function (evt) {\n      _this.setState({\n        lastX: _this.centerX,\n        lastY: _this.centerY\n      });\n      _this.lastY = _this.centerY;\n      _this.zoom(2);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"zoomOut\", function (evt) {\n      _this.setState({\n        lastX: _this.centerX,\n        lastY: _this.centerY\n      });\n      _this.zoom(-2);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"startMoving\", function (evt) {\n      _this.movement = true;\n      _this.movementStart = evt.pageX;\n      _this.viewPortElementRef.style.cursor = 'grabbing';\n    });\n    _defineProperty(_assertThisInitialized(_this), \"doMoving\", function (evt) {\n      if (_this.movement) {\n        _this.onMove(evt.clientX);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"stopMoving\", function (evt) {\n      _this.movement = false;\n      _this.movementStart = 0;\n      _this.viewPortElementRef.style.cursor = 'grab';\n    });\n    _defineProperty(_assertThisInitialized(_this), \"play\", function (e) {\n      _this.setState({\n        loopTimeoutId: window.setInterval(function () {\n          return _this.loopImages();\n        }, 100)\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"togglePlay\", function (e) {\n      _this.setState({\n        playing: !_this.state.playing\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"togglePanMode\", function (e) {\n      _this.setState({\n        panmode: !_this.state.panmode\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"toggleFullScreen\", function (e) {\n      _this.setState({\n        isFullScreen: !_this.state.isFullScreen\n      });\n    });\n    _this.viewPercentageRef = /*#__PURE__*/React.createRef();\n    _this.canvas = null;\n    _this.ctx = null;\n    _this.isMobile = false;\n    _this.imageData = [];\n    _this.images = [];\n    _this.loadedImages = 0;\n    _this.viewerPercentage = null;\n    _this.currentImage = null;\n    _this.currentLeftPosition = _this.currentTopPosition = 0;\n    _this.currentCanvasImage = null;\n    _this.centerX = 0;\n    _this.centerY = 0;\n    _this.movementStart = 0;\n    _this.movement = false;\n    _this.speedFactor = 13;\n    _this.activeImage = 1;\n    _this.stopAtEdges = false;\n    _this.state = {\n      lastX: 0,\n      lastY: 0,\n      minScale: 0.5,\n      maxScale: 4,\n      scale: 0.2,\n      customOffset: 10,\n      currentScale: 1.0,\n      currentTopPosition: 0,\n      currentLeftPosition: 0,\n      selectMenuOption: 1,\n      currentImage: null,\n      dragging: false,\n      canvas: null,\n      ctx: null,\n      dragStart: null,\n      currentCanvasImage: null,\n      isFullScreen: false,\n      viewPortElementWidth: null,\n      movementStart: 0,\n      movement: false,\n      dragSpeed: 150,\n      speedFactor: 13,\n      activeImage: 1,\n      stopAtEdges: false,\n      panmode: false,\n      currentLoop: 0,\n      loopTimeoutId: 0,\n      playing: false,\n      imagesLoaded: false\n    }; //this.currentLeftPosition = this.currentLeftPosition.bind(this)\n\n    return _this;\n  }\n  _createClass(React360Viewer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.disableZoomin();\n      this.viewerPercentage = this.viewPercentageRef.current;\n      this.fetchData();\n    }\n  }, {\n    key: \"fetchData\",\n    value: function fetchData() {\n      for (var i = 1; i <= this.props.amount; i++) {\n        var imageIndex = this.props.paddingIndex ? this.lpad(i, \"0\", 2) : i;\n        var fileName = this.props.fileName.replace('{index}', imageIndex);\n        var filePath = \"\".concat(this.props.imagePath, \"/\").concat(fileName);\n        this.imageData.push(filePath);\n      }\n      this.preloadImages();\n    }\n  }, {\n    key: \"lpad\",\n    value: function lpad(str, padString, length) {\n      str = str.toString();\n      while (str.length < length) {\n        str = padString + str;\n      }\n      return str;\n    }\n  }, {\n    key: \"preloadImages\",\n    value: function preloadImages() {\n      var _this2 = this;\n      if (this.imageData.length) {\n        try {\n          //this.props.amount = this.imageData.length;\n          this.imageData.forEach(function (src) {\n            _this2.addImage(src);\n          });\n        } catch (error) {\n          console.error(\"Something went wrong while loading images: \".concat(error.message));\n        }\n      } else {\n        console.log('No Images Found');\n      }\n    }\n  }, {\n    key: \"addImage\",\n    value: function addImage(resultSrc) {\n      var image = new Image();\n      image.src = resultSrc; //image.crossOrigin='anonymous'\n\n      image.onload = this.onImageLoad.bind(this);\n      image.onerror = this.onImageLoad.bind(this);\n      this.images.push(image);\n    }\n  }, {\n    key: \"onImageLoad\",\n    value: function onImageLoad(event) {\n      var percentage = Math.round(this.loadedImages / this.props.amount * 100);\n      this.loadedImages += 1;\n      this.updatePercentageInLoader(percentage);\n      if (this.loadedImages === this.props.amount) {\n        this.onAllImagesLoaded(event);\n      } else if (this.loadedImages === 1) {\n        //this.onFirstImageLoaded(event);\n        console.log('load first image');\n      }\n    }\n  }, {\n    key: \"updatePercentageInLoader\",\n    value: function updatePercentageInLoader(percentage) {\n      /* if (this.loader) {\r\n          this.loader.style.width = percentage + '%';\r\n      }\r\n      if (this.view360Icon) {\r\n          this.view360Icon.innerText = percentage + '%';\r\n      } */\n      //console.log(percentage)\n      this.viewerPercentage.innerHTML = percentage + '%'; //console.log(percentage + '%')\n    }\n  }, {\n    key: \"onAllImagesLoaded\",\n    value: function onAllImagesLoaded(e) {\n      this.setState({\n        imagesLoaded: true\n      });\n      this.initData();\n    }\n  }, {\n    key: \"initData\",\n    value: function initData() {\n      //console.log(this.imageContainerRef)\n      this.canvas = this.imageContainerRef;\n      this.ctx = this.canvas.getContext('2d'); //console.log('initialize data here')\n\n      this.attachEvents();\n      this.checkMobile();\n      this.loadInitialImage();\n      this.setState({\n        playing: this.props.autoplay\n      });\n    }\n  }, {\n    key: \"attachEvents\",\n    value: function attachEvents() {\n      if (this.state.panmode) {\n        this.bindPanModeEvents();\n      } else {\n        this.bind360ModeEvents();\n      }\n    }\n  }, {\n    key: \"bindPanModeEvents\",\n    value: function bindPanModeEvents() {\n      this.viewPortElementRef.removeEventListener('touchend', this.touchEnd);\n      this.viewPortElementRef.removeEventListener('touchstart', this.touchStart);\n      this.viewPortElementRef.removeEventListener('touchmove', this.touchMove);\n      this.viewPortElementRef.addEventListener('touchend', this.stopDragging);\n      this.viewPortElementRef.addEventListener('touchstart', this.startDragging);\n      this.viewPortElementRef.addEventListener('touchmove', this.doDragging);\n      this.viewPortElementRef.removeEventListener('mouseup', this.stopMoving);\n      this.viewPortElementRef.removeEventListener('mousedown', this.startMoving);\n      this.viewPortElementRef.removeEventListener('mousemove', this.doMoving);\n      this.viewPortElementRef.addEventListener('mouseup', this.stopDragging);\n      this.viewPortElementRef.addEventListener('mousedown', this.startDragging);\n      this.viewPortElementRef.addEventListener('mousemove', this.doDragging);\n    }\n  }, {\n    key: \"bind360ModeEvents\",\n    value: function bind360ModeEvents() {\n      this.viewPortElementRef.removeEventListener('touchend', this.stopDragging);\n      this.viewPortElementRef.removeEventListener('touchstart', this.startDragging);\n      this.viewPortElementRef.removeEventListener('touchmove', this.doDragging);\n      this.viewPortElementRef.addEventListener('touchend', this.touchEnd);\n      this.viewPortElementRef.addEventListener('touchstart', this.touchStart);\n      this.viewPortElementRef.addEventListener('touchmove', this.touchMove);\n      this.viewPortElementRef.removeEventListener('mouseup', this.stopDragging);\n      this.viewPortElementRef.removeEventListener('mousedown', this.startDragging);\n      this.viewPortElementRef.removeEventListener('mousemove', this.doDragging);\n      this.viewPortElementRef.addEventListener('mouseup', this.stopMoving);\n      this.viewPortElementRef.addEventListener('mousedown', this.startMoving);\n      this.viewPortElementRef.addEventListener('mousemove', this.doMoving);\n    }\n  }, {\n    key: \"setLastPositions\",\n    value: function setLastPositions(evt) {\n      if (this.isMobile) {\n        this.setState({\n          lastX: evt.touches[0].offsetX || evt.touches[0].pageX - this.canvas.offsetLeft,\n          lastY: evt.touches[0].offsetY || evt.touches[0].pageY - this.canvas.offsetTop\n        });\n      } else {\n        this.setState({\n          lastX: evt.offsetX || evt.pageX - this.canvas.offsetLeft,\n          lastY: evt.offsetY || evt.pageY - this.canvas.offsetTop\n        });\n      }\n    }\n  }, {\n    key: \"checkMobile\",\n    value: function checkMobile() {\n      this.isMobile = !!('ontouchstart' in window || navigator.msMaxTouchPoints);\n    }\n  }, {\n    key: \"loadInitialImage\",\n    value: function loadInitialImage() {\n      this.currentImage = this.imageData[0];\n      this.setImage();\n    }\n  }, {\n    key: \"setImage\",\n    value: function setImage() {\n      var _this3 = this;\n      var cached = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.currentLeftPosition = this.currentTopPosition = 0;\n      if (!cached) {\n        this.currentCanvasImage = new Image();\n        this.currentCanvasImage.crossOrigin = 'anonymous';\n        this.currentCanvasImage.src = this.currentImage;\n        this.currentCanvasImage.onload = function () {\n          var viewportElement = _this3.viewPortElementRef.getBoundingClientRect();\n          _this3.canvas.width = _this3.state.isFullScreen ? viewportElement.width : _this3.currentCanvasImage.width;\n          _this3.canvas.height = _this3.state.isFullScreen ? viewportElement.height : _this3.currentCanvasImage.height;\n          _this3.trackTransforms(_this3.ctx);\n          _this3.redraw();\n        };\n        this.currentCanvasImage.onerror = function () {\n          console.log('cannot load this image');\n        };\n      } else {\n        this.currentCanvasImage = this.images[0];\n        var viewportElement = this.viewPortElementRef.getBoundingClientRect();\n        this.canvas.width = this.state.isFullScreen ? viewportElement.width : this.currentCanvasImage.width;\n        this.canvas.height = this.state.isFullScreen ? viewportElement.height : this.currentCanvasImage.height;\n        this.trackTransforms(this.ctx);\n        this.redraw();\n      }\n    }\n  }, {\n    key: \"redraw\",\n    value: function redraw() {\n      try {\n        var p1 = this.ctx.transformedPoint(0, 0);\n        var p2 = this.ctx.transformedPoint(this.canvas.width, this.canvas.height);\n        var hRatio = this.canvas.width / this.currentCanvasImage.width;\n        var vRatio = this.canvas.height / this.currentCanvasImage.height;\n        var ratio = Math.min(hRatio, vRatio);\n        var centerShift_x = (this.canvas.width - this.currentCanvasImage.width * ratio) / 2;\n        var centerShift_y = (this.canvas.height - this.currentCanvasImage.height * ratio) / 2;\n        this.ctx.clearRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y);\n        this.centerX = this.currentCanvasImage.width * ratio / 2;\n        this.centerY = this.currentCanvasImage.height * ratio / 2; //center image\n\n        this.ctx.drawImage(this.currentCanvasImage, this.currentLeftPosition, this.currentTopPosition, this.currentCanvasImage.width, this.currentCanvasImage.height, centerShift_x, centerShift_y, this.currentCanvasImage.width * ratio, this.currentCanvasImage.height * ratio); //this.addHotspots()\n      } catch (e) {\n        this.trackTransforms(this.ctx);\n      }\n    }\n  }, {\n    key: \"trackTransforms\",\n    value: function trackTransforms(ctx) {\n      var _this4 = this;\n      return new Promise(function (resolve) {\n        var svg = document.createElementNS(\"http://www.w3.org/2000/svg\", 'svg');\n        var xform = svg.createSVGMatrix();\n        _this4.ctx.getTransform = function () {\n          return xform;\n        };\n        var savedTransforms = [];\n        var save = ctx.save;\n        _this4.ctx.save = function () {\n          savedTransforms.push(xform.translate(0, 0));\n          return save.call(_this4.ctx);\n        };\n        var restore = ctx.restore;\n        _this4.ctx.restore = function () {\n          xform = savedTransforms.pop();\n          return restore.call(_this4.ctx);\n        };\n        var scale = _this4.ctx.scale;\n        _this4.ctx.scale = function (sx, sy) {\n          xform = xform.scaleNonUniform(sx, sy);\n          return scale.call(_this4.ctx, sx, sy);\n        };\n        var rotate = _this4.ctx.rotate;\n        _this4.ctx.rotate = function (radians) {\n          xform = xform.rotate(radians * 180 / Math.PI);\n          return rotate.call(_this4.ctx, radians);\n        };\n        var translate = _this4.ctx.translate;\n        _this4.ctx.translate = function (dx, dy) {\n          xform = xform.translate(dx, dy);\n          return translate.call(_this4.ctx, dx, dy);\n        };\n        var transform = _this4.ctx.transform;\n        _this4.ctx.transform = function (a, b, c, d, e, f) {\n          var m2 = svg.createSVGMatrix();\n          m2.a = a;\n          m2.b = b;\n          m2.c = c;\n          m2.d = d;\n          m2.e = e;\n          m2.f = f;\n          xform = xform.multiply(m2);\n          return transform.call(_this4.ctx, a, b, c, d, e, f);\n        };\n        var setTransform = _this4.ctx.setTransform;\n        _this4.ctx.setTransform = function (a, b, c, d, e, f) {\n          xform.a = a;\n          xform.b = b;\n          xform.c = c;\n          xform.d = d;\n          xform.e = e;\n          xform.f = f;\n          return setTransform.call(_this4.ctx, a, b, c, d, e, f);\n        };\n        var pt = svg.createSVGPoint();\n        _this4.ctx.transformedPoint = function (x, y) {\n          pt.x = x;\n          pt.y = y;\n          return pt.matrixTransform(xform.inverse());\n        };\n        resolve(_this4.ctx);\n      });\n    }\n  }, {\n    key: \"turnLeft\",\n    value: function turnLeft() {\n      this.moveActiveIndexDown(1);\n    }\n  }, {\n    key: \"turnRight\",\n    value: function turnRight() {\n      this.moveActiveIndexUp(1);\n    }\n  }, {\n    key: \"moveActiveIndexUp\",\n    value: function moveActiveIndexUp(itemsSkipped) {\n      if (this.stopAtEdges) {\n        if (this.activeImage + itemsSkipped >= this.props.amount) {\n          this.activeImage = this.props.amount;\n        } else {\n          this.activeImage += itemsSkipped;\n        }\n      } else {\n        this.activeImage = (this.activeImage + itemsSkipped) % this.props.amount || this.props.amount;\n      }\n      this.update();\n    }\n  }, {\n    key: \"moveActiveIndexDown\",\n    value: function moveActiveIndexDown(itemsSkipped) {\n      if (this.stopAtEdges) {\n        if (this.activeImage - itemsSkipped <= 1) {\n          this.activeImage = 1;\n        } else {\n          this.activeImage -= itemsSkipped;\n        }\n      } else {\n        if (this.activeImage - itemsSkipped < 1) {\n          this.activeImage = this.props.amount + (this.activeImage - itemsSkipped);\n        } else {\n          this.activeImage -= itemsSkipped;\n        }\n      }\n      this.update();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var image = this.images[this.activeImage - 1];\n      this.currentCanvasImage = image;\n      this.redraw();\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(clicks) {\n      //console.log(this.lastX + ' - ' + this.lastY)\n      var factor = Math.pow(1.01, clicks); //console.log(factor)\n\n      if (factor > 1) {\n        this.currentScale += factor;\n      } else {\n        if (this.currentScale - factor > 1) this.currentScale -= factor;else this.currentScale = 1;\n      }\n      if (this.currentScale > 1) {\n        var pt = this.ctx.transformedPoint(this.state.lastX, this.state.lastY);\n        this.ctx.translate(pt.x, pt.y); //console.log(this.currentScale)\n\n        this.ctx.scale(factor, factor);\n        this.ctx.translate(-pt.x, -pt.y);\n        this.redraw();\n      }\n    }\n  }, {\n    key: \"disableZoomin\",\n    value: function disableZoomin() {\n      document.addEventListener(\"gesturestart\", function (e) {\n        e.preventDefault();\n        document.body.style.zoom = 0.99;\n      });\n      document.addEventListener(\"gesturechange\", function (e) {\n        e.preventDefault();\n        document.body.style.zoom = 0.99;\n      });\n      document.addEventListener(\"gestureend\", function (e) {\n        e.preventDefault();\n        document.body.style.zoom = 1;\n      });\n    }\n  }, {\n    key: \"onMove\",\n    value: function onMove(pageX) {\n      if (pageX - this.movementStart >= this.speedFactor) {\n        var itemsSkippedRight = Math.floor((pageX - this.movementStart) / this.speedFactor) || 1;\n        this.movementStart = pageX;\n        if (this.props.spinReverse) {\n          this.moveActiveIndexDown(itemsSkippedRight);\n        } else {\n          this.moveActiveIndexUp(itemsSkippedRight);\n        }\n        this.redraw();\n      } else if (this.movementStart - pageX >= this.speedFactor) {\n        var itemsSkippedLeft = Math.floor((this.movementStart - pageX) / this.speedFactor) || 1;\n        this.movementStart = pageX;\n        if (this.props.spinReverse) {\n          this.moveActiveIndexUp(itemsSkippedLeft);\n        } else {\n          this.moveActiveIndexDown(itemsSkippedLeft);\n        }\n        this.redraw();\n      }\n    }\n  }, {\n    key: \"onSpin\",\n    value: function onSpin() {\n      if (this.state.playing || this.state.loopTimeoutId) {\n        this.stop();\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this.activeImage === 1) {\n        this.setState({\n          currentLoop: 0\n        });\n      }\n      this.setState({\n        playing: false\n      });\n      window.clearTimeout(this.state.loopTimeoutId);\n    }\n  }, {\n    key: \"loopImages\",\n    value: function loopImages() {\n      var loop = this.props.loop ? this.props.loop : 1;\n      if (this.activeImage === 1) {\n        if (this.state.currentLoop === loop) {\n          this.stop();\n        } else {\n          this.setState({\n            currentLoop: this.state.currentLoop + 1\n          });\n          this.next();\n        }\n      } else {\n        this.next();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.state.currentLeftPosition !== prevState.currentLeftPosition) {\n        console.log('Left Position Changed');\n      }\n      if (this.state.panmode !== prevState.panmode) {\n        this.attachEvents();\n      }\n      if (this.state.playing !== prevState.playing) {\n        if (!this.state.playing) {\n          this.stop();\n        } else {\n          this.play();\n        }\n      }\n      if (this.state.isFullScreen !== prevState.isFullScreen) {\n        if (!this.state.isFullScreen) {\n          //exit full screen\n          this.viewerContainerRef.classList.remove('v360-main');\n          this.viewerContainerRef.classList.remove('v360-fullscreen');\n        } else {\n          //enter full screen\n          this.viewerContainerRef.classList.add('v360-main');\n          this.viewerContainerRef.classList.add('v360-fullscreen');\n        }\n        this.setImage();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v360-viewer-container\",\n        ref: function ref(inputEl) {\n          _this5.viewerContainerRef = inputEl;\n        },\n        id: \"identifier\",\n        onWheel: function onWheel(e) {\n          return _this5.zoomImage(e);\n        }\n      }, !this.state.imagesLoaded ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v360-viewport\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v360-spinner-grow\"\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        ref: this.viewPercentageRef,\n        className: \"v360-percentage-text\"\n      })) : '', /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v360-viewport\",\n        ref: function ref(inputEl) {\n          _this5.viewPortElementRef = inputEl;\n        }\n      }, /*#__PURE__*/React.createElement(\"canvas\", {\n        className: \"v360-image-container\",\n        ref: function ref(inputEl) {\n          _this5.imageContainerRef = inputEl;\n        }\n      }), this.props.boxShadow ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v360-product-box-shadow\"\n      }) : ''), /*#__PURE__*/React.createElement(\"abbr\", {\n        title: \"Fullscreen Toggle\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v360-fullscreen-toggle text-center\",\n        onClick: this.toggleFullScreen\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: this.props.buttonClass === 'dark' ? 'v360-fullscreen-toggle-btn text-light' : 'v360-fullscreen-toggle-btn text-dark'\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: !this.state.isFullScreen ? 'fas fa-expand text-lg' : 'fas fa-compress text-lg'\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"v360-menu-btns\",\n        className: this.props.buttonClass\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v360-navigate-btns\"\n      }, /*#__PURE__*/React.createElement(button, {\n        clicked: this.togglePlay,\n        icon: this.state.playing ? 'fa fa-pause' : 'fa fa-play'\n      }), /*#__PURE__*/React.createElement(button, {\n        clicked: this.zoomIn,\n        icon: \"fa fa-search-plus\"\n      }), /*#__PURE__*/React.createElement(button, {\n        clicked: this.zoomOut,\n        icon: \"fa fa-search-minus\"\n      }), this.state.panmode ? /*#__PURE__*/React.createElement(button, {\n        clicked: this.togglePanMode,\n        text: \"360\\xB0\"\n      }) : /*#__PURE__*/React.createElement(button, {\n        clicked: this.togglePanMode,\n        icon: \"fa fa-hand-paper\"\n      }), /*#__PURE__*/React.createElement(button, {\n        clicked: this.prev,\n        icon: \"fa fa-chevron-left\"\n      }), /*#__PURE__*/React.createElement(button, {\n        clicked: this.next,\n        icon: \"fa fa-chevron-right\"\n      }), /*#__PURE__*/React.createElement(button, {\n        clicked: this.resetPosition,\n        icon: \"fa fa-sync\"\n      })))));\n    }\n  }]);\n  return React360Viewer;\n}(Component);\nexport default React360Viewer;","map":{"version":3,"names":["React","Component","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","value","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","call","e","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","arguments","apply","button","createElement","className","onClick","clicked","icon","text","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","css_248z","React360Viewer","_Component","_super","_this","evt","dragging","body","mozUserSelect","webkitUserSelect","userSelect","setLastPositions","dragStart","ctx","transformedPoint","state","lastX","lastY","pt","translate","x","y","redraw","spinReverse","turnRight","turnLeft","currentScale","activeImage","setImage","setState","offsetX","pageX","canvas","offsetLeft","offsetY","pageY","offsetTop","delta","wheelDelta","deltaY","zoom","centerX","centerY","movement","movementStart","viewPortElementRef","cursor","onMove","clientX","loopTimeoutId","window","setInterval","loopImages","playing","panmode","isFullScreen","viewPercentageRef","createRef","isMobile","imageData","images","loadedImages","viewerPercentage","currentImage","currentLeftPosition","currentTopPosition","currentCanvasImage","speedFactor","stopAtEdges","minScale","maxScale","scale","customOffset","selectMenuOption","viewPortElementWidth","dragSpeed","currentLoop","imagesLoaded","componentDidMount","disableZoomin","current","fetchData","amount","imageIndex","paddingIndex","lpad","fileName","replace","filePath","concat","imagePath","push","preloadImages","str","padString","_this2","forEach","src","addImage","error","console","message","log","resultSrc","image","Image","onload","onImageLoad","bind","onerror","event","percentage","Math","round","updatePercentageInLoader","onAllImagesLoaded","innerHTML","initData","imageContainerRef","getContext","attachEvents","checkMobile","loadInitialImage","autoplay","bindPanModeEvents","bind360ModeEvents","removeEventListener","touchEnd","touchStart","touchMove","addEventListener","stopDragging","startDragging","doDragging","stopMoving","startMoving","doMoving","touches","navigator","msMaxTouchPoints","_this3","cached","undefined","crossOrigin","viewportElement","getBoundingClientRect","width","height","trackTransforms","p1","p2","hRatio","vRatio","ratio","min","centerShift_x","centerShift_y","clearRect","drawImage","_this4","Promise","resolve","svg","createElementNS","xform","createSVGMatrix","getTransform","savedTransforms","save","restore","pop","sx","sy","scaleNonUniform","rotate","radians","PI","dx","dy","transform","a","b","c","d","f","m2","multiply","setTransform","createSVGPoint","matrixTransform","inverse","moveActiveIndexDown","moveActiveIndexUp","itemsSkipped","update","clicks","factor","pow","preventDefault","itemsSkippedRight","floor","itemsSkippedLeft","onSpin","stop","clearTimeout","loop","next","componentDidUpdate","prevProps","prevState","play","viewerContainerRef","classList","remove","add","render","_this5","inputEl","id","onWheel","zoomImage","boxShadow","title","toggleFullScreen","buttonClass","togglePlay","zoomIn","zoomOut","togglePanMode","prev","resetPosition"],"sources":["/Users/ipuii/Desktop/STUDY/REACTJS/WORKSHOP/car-select/node_modules/react-360-view/dist/index.js"],"sourcesContent":["import React, { Component } from 'react';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nvar button = function button(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"v360-menu-btns\",\n    onClick: props.clicked\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: props.icon\n  }), props.text);\n};\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \"/* \\r\\n    Document   : style.css\\r\\n    Created on : Dec 26, 2019\\r\\n    Author     : Rajeev R. Gade\\r\\n    Description: Stylesheet for 360 viewer\\r\\n*/\\r\\nbody,\\r\\nhtml {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    margin: 0;\\r\\n    font-family: sans-serif;\\r\\n}\\r\\n\\r\\nroot {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.v360-main {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    max-width: 1024px;\\r\\n    margin: 20px auto;\\r\\n    position: relative;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    justify-content: flex-start;\\r\\n    align-items: stretch;\\r\\n    align-content: stretch;\\r\\n}\\r\\n\\r\\n/* HEADER */\\r\\n\\r\\n.v360-header {\\r\\n    /* width: calc(100% - 20px); */\\r\\n    background-color: #000;\\r\\n    padding: 10px;\\r\\n    color: #FFFFFF;\\r\\n    font-size: 1.5em;\\r\\n    text-align: center;\\r\\n    font-weight: bold;\\r\\n    /* text-shadow: 1px 1px #000000; */\\r\\n    flex: 0 1 auto;\\r\\n}\\r\\n\\r\\n/* VIEWER */\\r\\n\\r\\n#productInsert {\\r\\n    background-color: #FFF;\\r\\n    width: 100%;\\r\\n    height: calc(100vh - 184px);\\r\\n    max-height: 768px;\\r\\n    position: relative;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.v360-fullscreen #productInsert {\\r\\n    height: 100vh;\\r\\n    max-height: none;\\r\\n}\\r\\n\\r\\n#viewport-wrapper {\\r\\n    width: 100%;\\r\\n    height: calc(100% - 10px);\\r\\n    margin: 5px auto;\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    transition: width 0.3s ease;\\r\\n}\\r\\n.v360-viewport {\\r\\n    background-color: #FFF;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    overflow: hidden;\\r\\n    /* position: absolute; */\\r\\n    left: 0;\\r\\n    /* transition: width 0.3s ease; */\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n#viewport-wrapper.wide {\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.v360-viewport iframe {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n    /* left: 50%;\\r\\n    -webkit-transform: translateX(-50%) translateY(0);\\r\\n    -ms-transform: translateX(-50%) translateY(0);\\r\\n    transform: translateX(-50%) translateY(0);\\r\\n    transform-origin: center center; */\\r\\n}\\r\\n\\r\\n.v360-viewport img {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n\\r\\n/* FULLSCREEN & MENU TOGGLE BUTTONS */\\r\\n\\r\\n.v360-fullscreen-toggle{\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n    margin: 15px;\\r\\n    position: absolute;\\r\\n    /* color: #999;\\r\\n    fill: #999; */\\r\\n    float: right;\\r\\n    cursor: pointer;\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    z-index: 150;\\r\\n}\\r\\n\\r\\n.v360-fullscreen-toggle:hover {\\r\\n    fill: #000;\\r\\n}\\r\\n/* \\r\\n.v360-fullscreen-toggle div:last-child {\\r\\n    display: none;\\r\\n} */\\r\\n\\r\\n.v360-fullscreen {\\r\\n    z-index: 9999;\\r\\n    width: 100%;\\r\\n    max-width: none;\\r\\n    height: 100%;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    position: fixed;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n.v360-fullscreen .v360-header,\\r\\n.v360-fullscreen #v360-menu-btns {\\r\\n    border-radius: 0;\\r\\n}\\r\\n\\r\\n.v360-fullscreen productInsert {\\r\\n    height: calc(100vh - 95px);\\r\\n    max-height: none;\\r\\n}\\r\\n\\r\\n.ui-accordion-header {\\r\\n    background-color: #B0BEC5;\\r\\n    outline: none;\\r\\n    line-height: 1.5em;\\r\\n    transition: all 0.3s ease;\\r\\n}\\r\\n\\r\\n.ui-accordion-header:hover,\\r\\n.ui-accordion-header.ui-state-active {\\r\\n    background-color: #607D8B;\\r\\n    color: #FFF;\\r\\n}\\r\\n\\r\\n/* MENU BUTTONS */\\r\\n\\r\\n#v360-menu-btns {\\r\\n    width: 100%;\\r\\n    padding: 5px 0;\\r\\n    text-align: center;\\r\\n    /* position: absolute; */\\r\\n    bottom: 0;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    z-index: 150;\\r\\n}\\r\\n\\r\\n.light{\\r\\n    background-color: #fff !important;\\r\\n}\\r\\n\\r\\n.dark{\\r\\n    background-color: #000 !important;\\r\\n}\\r\\n\\r\\n.v360-menu-btns {\\r\\n    /* background-color: #999; */\\r\\n    width: auto;\\r\\n    min-height: 20px;\\r\\n    margin: 5px 5px;\\r\\n    padding: 5px 10px;\\r\\n    border-radius: 5px;\\r\\n    outline: none;\\r\\n    font-size: 1.3em;\\r\\n    text-align: center;\\r\\n    line-height: 1em;\\r\\n    cursor: pointer;\\r\\n    user-select: none;\\r\\n    position: relative;\\r\\n    display: inline-block;\\r\\n    opacity: 1;\\r\\n}\\r\\n/* \\r\\n.v360-btn-active{\\r\\n    background-color: #000;\\r\\n} */\\r\\n\\r\\n.light .v360-menu-btns {\\r\\n    color: #000;\\r\\n}\\r\\n\\r\\n.dark .v360-menu-btns {\\r\\n    color: #fff;\\r\\n}\\r\\n  \\r\\n/* .light .v360-btn-active{\\r\\n    color: #fff;\\r\\n} */\\r\\n\\r\\n.light .v360-menu-btns:hover {\\r\\n    color: #fff;\\r\\n    background-color: #000;\\r\\n}\\r\\n\\r\\n.dark .v360-menu-btns:hover {\\r\\n    color: #000;\\r\\n    background-color: #fff;\\r\\n}\\r\\n\\r\\n.v360-main {\\r\\n    filter: alpha(opacity=50);\\r\\n    /* opacity: 0.5; */\\r\\n    cursor: default;\\r\\n    /* pointer-events: none; */\\r\\n}\\r\\n\\r\\n#v360-image-container {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    background-repeat: no-repeat;\\r\\n    background-position: center;\\r\\n    background-size: contain;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.v360-image-container {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    background-repeat: no-repeat;\\r\\n    background-position: center;\\r\\n    background-size: contain;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.v360-product-box-shadow{\\r\\n    position: absolute;\\r\\n    /* z-index: 99; */\\r\\n    top: 0px;\\r\\n    left: 0px;\\r\\n    right: 0px;\\r\\n    bottom: 0px;\\r\\n    box-shadow: rgb(34, 34, 34) 0px 0px 100px inset;\\r\\n}\\r\\n\\r\\n.v360-fullscreen-toggle-btn i{\\r\\n    /* background-color: #fff; */\\r\\n    font-size: 20px;\\r\\n}\\r\\n.v360-spinner-grow{\\r\\n    display: inline-block;\\r\\n    width: 2rem;\\r\\n    height: 2rem;\\r\\n    vertical-align: text-bottom;\\r\\n    background-color: rgb(33, 37, 41);\\r\\n    border-radius: 50%;\\r\\n    opacity: 0;\\r\\n    -webkit-animation: spinner-grow .75s linear infinite;\\r\\n    animation: spinner-grow .75s linear infinite;\\r\\n}\\r\\n.v360-percentage-description{\\r\\n    margin-left: 2rem;\\r\\n}\\r\\n\\r\\n\\r\\n/* Tooltip */\\r\\n\\r\\n.tooltip {\\r\\n    position: relative;\\r\\n    display: inline-block;\\r\\n  }\\r\\n  \\r\\n  .tooltip .tooltiptext {\\r\\n    visibility: hidden;\\r\\n    width: 120px;\\r\\n    background-color: #555;\\r\\n    color: #fff;\\r\\n    text-align: center;\\r\\n    border-radius: 6px;\\r\\n    padding: 5px 0;\\r\\n    position: absolute;\\r\\n    z-index: 1;\\r\\n    bottom: 125%;\\r\\n    left: 50%;\\r\\n    margin-left: -60px;\\r\\n    opacity: 0;\\r\\n    transition: opacity 0.3s;\\r\\n  }\\r\\n  \\r\\n  .tooltip .tooltiptext::after {\\r\\n    content: \\\"\\\";\\r\\n    position: absolute;\\r\\n    top: 100%;\\r\\n    left: 50%;\\r\\n    margin-left: -5px;\\r\\n    border-width: 5px;\\r\\n    border-style: solid;\\r\\n    border-color: #555 transparent transparent transparent;\\r\\n  }\\r\\n  \\r\\n  .tooltip:hover .tooltiptext {\\r\\n    visibility: visible;\\r\\n    opacity: 1;\\r\\n  }\\r\\n  \\r\\n  .tooltip{\\r\\n    opacity: 1 !important;\\r\\n  }\\r\\n\\r\\n  /* .hotspot-button{\\r\\n      position: absolute;\\r\\n  } */\";\nstyleInject(css_248z);\n\nvar React360Viewer = /*#__PURE__*/function (_Component) {\n  _inherits(React360Viewer, _Component);\n\n  var _super = _createSuper(React360Viewer);\n\n  function React360Viewer() {\n    var _this;\n\n    _classCallCheck(this, React360Viewer);\n\n    _this = _super.call(this); //this.imageContainerRef = React.createRef();\n\n    _defineProperty(_assertThisInitialized(_this), \"startDragging\", function (evt) {\n      _this.dragging = true;\n      document.body.style.mozUserSelect = document.body.style.webkitUserSelect = document.body.style.userSelect = 'none';\n\n      _this.setLastPositions(evt);\n\n      _this.dragStart = _this.ctx.transformedPoint(_this.state.lastX, _this.state.lastY);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"doDragging\", function (evt) {\n      _this.setLastPositions(evt);\n\n      if (_this.dragStart) {\n        var pt = _this.ctx.transformedPoint(_this.state.lastX, _this.state.lastY);\n\n        _this.ctx.translate(pt.x - _this.dragStart.x, pt.y - _this.dragStart.y); //redraw();\n\n\n        _this.redraw();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopDragging\", function (evt) {\n      _this.dragging = false;\n      _this.dragStart = null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"prev\", function (e) {\n      //console.log(this.currentLeftPosition)\n\n      /* this.setState({\r\n          currentLeftPosition: 10\r\n      }) */\n      //this.currentLeftPosition = 10\n      _this.props.spinReverse ? _this.turnRight() : _this.turnLeft();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"next\", function (e) {\n      _this.props.spinReverse ? _this.turnLeft() : _this.turnRight();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetPosition\", function () {\n      _this.currentScale = 1;\n      _this.activeImage = 1;\n\n      _this.setImage(true);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"zoomImage\", function (evt) {\n      _this.setState({\n        lastX: evt.offsetX || evt.pageX - _this.canvas.offsetLeft,\n        lastY: evt.offsetY || evt.pageY - _this.canvas.offsetTop\n      });\n\n      var delta = evt.wheelDelta ? evt.wheelDelta / 40 : evt.deltaY ? -evt.deltaY : 0;\n      if (delta) _this.zoom(delta); //return evt.preventDefault() && false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"zoomIn\", function (evt) {\n      _this.setState({\n        lastX: _this.centerX,\n        lastY: _this.centerY\n      });\n\n      _this.lastY = _this.centerY;\n\n      _this.zoom(2);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"zoomOut\", function (evt) {\n      _this.setState({\n        lastX: _this.centerX,\n        lastY: _this.centerY\n      });\n\n      _this.zoom(-2);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"startMoving\", function (evt) {\n      _this.movement = true;\n      _this.movementStart = evt.pageX;\n      _this.viewPortElementRef.style.cursor = 'grabbing';\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"doMoving\", function (evt) {\n      if (_this.movement) {\n        _this.onMove(evt.clientX);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopMoving\", function (evt) {\n      _this.movement = false;\n      _this.movementStart = 0;\n      _this.viewPortElementRef.style.cursor = 'grab';\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"play\", function (e) {\n      _this.setState({\n        loopTimeoutId: window.setInterval(function () {\n          return _this.loopImages();\n        }, 100)\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePlay\", function (e) {\n      _this.setState({\n        playing: !_this.state.playing\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePanMode\", function (e) {\n      _this.setState({\n        panmode: !_this.state.panmode\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleFullScreen\", function (e) {\n      _this.setState({\n        isFullScreen: !_this.state.isFullScreen\n      });\n    });\n\n    _this.viewPercentageRef = /*#__PURE__*/React.createRef();\n    _this.canvas = null;\n    _this.ctx = null;\n    _this.isMobile = false;\n    _this.imageData = [];\n    _this.images = [];\n    _this.loadedImages = 0;\n    _this.viewerPercentage = null;\n    _this.currentImage = null;\n    _this.currentLeftPosition = _this.currentTopPosition = 0;\n    _this.currentCanvasImage = null;\n    _this.centerX = 0;\n    _this.centerY = 0;\n    _this.movementStart = 0;\n    _this.movement = false;\n    _this.speedFactor = 13;\n    _this.activeImage = 1;\n    _this.stopAtEdges = false;\n    _this.state = {\n      lastX: 0,\n      lastY: 0,\n      minScale: 0.5,\n      maxScale: 4,\n      scale: 0.2,\n      customOffset: 10,\n      currentScale: 1.0,\n      currentTopPosition: 0,\n      currentLeftPosition: 0,\n      selectMenuOption: 1,\n      currentImage: null,\n      dragging: false,\n      canvas: null,\n      ctx: null,\n      dragStart: null,\n      currentCanvasImage: null,\n      isFullScreen: false,\n      viewPortElementWidth: null,\n      movementStart: 0,\n      movement: false,\n      dragSpeed: 150,\n      speedFactor: 13,\n      activeImage: 1,\n      stopAtEdges: false,\n      panmode: false,\n      currentLoop: 0,\n      loopTimeoutId: 0,\n      playing: false,\n      imagesLoaded: false\n    }; //this.currentLeftPosition = this.currentLeftPosition.bind(this)\n\n    return _this;\n  }\n\n  _createClass(React360Viewer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.disableZoomin();\n      this.viewerPercentage = this.viewPercentageRef.current;\n      this.fetchData();\n    }\n  }, {\n    key: \"fetchData\",\n    value: function fetchData() {\n      for (var i = 1; i <= this.props.amount; i++) {\n        var imageIndex = this.props.paddingIndex ? this.lpad(i, \"0\", 2) : i;\n        var fileName = this.props.fileName.replace('{index}', imageIndex);\n        var filePath = \"\".concat(this.props.imagePath, \"/\").concat(fileName);\n        this.imageData.push(filePath);\n      }\n\n      this.preloadImages();\n    }\n  }, {\n    key: \"lpad\",\n    value: function lpad(str, padString, length) {\n      str = str.toString();\n\n      while (str.length < length) {\n        str = padString + str;\n      }\n\n      return str;\n    }\n  }, {\n    key: \"preloadImages\",\n    value: function preloadImages() {\n      var _this2 = this;\n\n      if (this.imageData.length) {\n        try {\n          //this.props.amount = this.imageData.length;\n          this.imageData.forEach(function (src) {\n            _this2.addImage(src);\n          });\n        } catch (error) {\n          console.error(\"Something went wrong while loading images: \".concat(error.message));\n        }\n      } else {\n        console.log('No Images Found');\n      }\n    }\n  }, {\n    key: \"addImage\",\n    value: function addImage(resultSrc) {\n      var image = new Image();\n      image.src = resultSrc; //image.crossOrigin='anonymous'\n\n      image.onload = this.onImageLoad.bind(this);\n      image.onerror = this.onImageLoad.bind(this);\n      this.images.push(image);\n    }\n  }, {\n    key: \"onImageLoad\",\n    value: function onImageLoad(event) {\n      var percentage = Math.round(this.loadedImages / this.props.amount * 100);\n      this.loadedImages += 1;\n      this.updatePercentageInLoader(percentage);\n\n      if (this.loadedImages === this.props.amount) {\n        this.onAllImagesLoaded(event);\n      } else if (this.loadedImages === 1) {\n        //this.onFirstImageLoaded(event);\n        console.log('load first image');\n      }\n    }\n  }, {\n    key: \"updatePercentageInLoader\",\n    value: function updatePercentageInLoader(percentage) {\n      /* if (this.loader) {\r\n          this.loader.style.width = percentage + '%';\r\n      }\r\n      if (this.view360Icon) {\r\n          this.view360Icon.innerText = percentage + '%';\r\n      } */\n      //console.log(percentage)\n      this.viewerPercentage.innerHTML = percentage + '%'; //console.log(percentage + '%')\n    }\n  }, {\n    key: \"onAllImagesLoaded\",\n    value: function onAllImagesLoaded(e) {\n      this.setState({\n        imagesLoaded: true\n      });\n      this.initData();\n    }\n  }, {\n    key: \"initData\",\n    value: function initData() {\n      //console.log(this.imageContainerRef)\n      this.canvas = this.imageContainerRef;\n      this.ctx = this.canvas.getContext('2d'); //console.log('initialize data here')\n\n      this.attachEvents();\n      this.checkMobile();\n      this.loadInitialImage();\n      this.setState({\n        playing: this.props.autoplay\n      });\n    }\n  }, {\n    key: \"attachEvents\",\n    value: function attachEvents() {\n      if (this.state.panmode) {\n        this.bindPanModeEvents();\n      } else {\n        this.bind360ModeEvents();\n      }\n    }\n  }, {\n    key: \"bindPanModeEvents\",\n    value: function bindPanModeEvents() {\n      this.viewPortElementRef.removeEventListener('touchend', this.touchEnd);\n      this.viewPortElementRef.removeEventListener('touchstart', this.touchStart);\n      this.viewPortElementRef.removeEventListener('touchmove', this.touchMove);\n      this.viewPortElementRef.addEventListener('touchend', this.stopDragging);\n      this.viewPortElementRef.addEventListener('touchstart', this.startDragging);\n      this.viewPortElementRef.addEventListener('touchmove', this.doDragging);\n      this.viewPortElementRef.removeEventListener('mouseup', this.stopMoving);\n      this.viewPortElementRef.removeEventListener('mousedown', this.startMoving);\n      this.viewPortElementRef.removeEventListener('mousemove', this.doMoving);\n      this.viewPortElementRef.addEventListener('mouseup', this.stopDragging);\n      this.viewPortElementRef.addEventListener('mousedown', this.startDragging);\n      this.viewPortElementRef.addEventListener('mousemove', this.doDragging);\n    }\n  }, {\n    key: \"bind360ModeEvents\",\n    value: function bind360ModeEvents() {\n      this.viewPortElementRef.removeEventListener('touchend', this.stopDragging);\n      this.viewPortElementRef.removeEventListener('touchstart', this.startDragging);\n      this.viewPortElementRef.removeEventListener('touchmove', this.doDragging);\n      this.viewPortElementRef.addEventListener('touchend', this.touchEnd);\n      this.viewPortElementRef.addEventListener('touchstart', this.touchStart);\n      this.viewPortElementRef.addEventListener('touchmove', this.touchMove);\n      this.viewPortElementRef.removeEventListener('mouseup', this.stopDragging);\n      this.viewPortElementRef.removeEventListener('mousedown', this.startDragging);\n      this.viewPortElementRef.removeEventListener('mousemove', this.doDragging);\n      this.viewPortElementRef.addEventListener('mouseup', this.stopMoving);\n      this.viewPortElementRef.addEventListener('mousedown', this.startMoving);\n      this.viewPortElementRef.addEventListener('mousemove', this.doMoving);\n    }\n  }, {\n    key: \"setLastPositions\",\n    value: function setLastPositions(evt) {\n      if (this.isMobile) {\n        this.setState({\n          lastX: evt.touches[0].offsetX || evt.touches[0].pageX - this.canvas.offsetLeft,\n          lastY: evt.touches[0].offsetY || evt.touches[0].pageY - this.canvas.offsetTop\n        });\n      } else {\n        this.setState({\n          lastX: evt.offsetX || evt.pageX - this.canvas.offsetLeft,\n          lastY: evt.offsetY || evt.pageY - this.canvas.offsetTop\n        });\n      }\n    }\n  }, {\n    key: \"checkMobile\",\n    value: function checkMobile() {\n      this.isMobile = !!('ontouchstart' in window || navigator.msMaxTouchPoints);\n    }\n  }, {\n    key: \"loadInitialImage\",\n    value: function loadInitialImage() {\n      this.currentImage = this.imageData[0];\n      this.setImage();\n    }\n  }, {\n    key: \"setImage\",\n    value: function setImage() {\n      var _this3 = this;\n\n      var cached = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.currentLeftPosition = this.currentTopPosition = 0;\n\n      if (!cached) {\n        this.currentCanvasImage = new Image();\n        this.currentCanvasImage.crossOrigin = 'anonymous';\n        this.currentCanvasImage.src = this.currentImage;\n\n        this.currentCanvasImage.onload = function () {\n          var viewportElement = _this3.viewPortElementRef.getBoundingClientRect();\n\n          _this3.canvas.width = _this3.state.isFullScreen ? viewportElement.width : _this3.currentCanvasImage.width;\n          _this3.canvas.height = _this3.state.isFullScreen ? viewportElement.height : _this3.currentCanvasImage.height;\n\n          _this3.trackTransforms(_this3.ctx);\n\n          _this3.redraw();\n        };\n\n        this.currentCanvasImage.onerror = function () {\n          console.log('cannot load this image');\n        };\n      } else {\n        this.currentCanvasImage = this.images[0];\n        var viewportElement = this.viewPortElementRef.getBoundingClientRect();\n        this.canvas.width = this.state.isFullScreen ? viewportElement.width : this.currentCanvasImage.width;\n        this.canvas.height = this.state.isFullScreen ? viewportElement.height : this.currentCanvasImage.height;\n        this.trackTransforms(this.ctx);\n        this.redraw();\n      }\n    }\n  }, {\n    key: \"redraw\",\n    value: function redraw() {\n      try {\n        var p1 = this.ctx.transformedPoint(0, 0);\n        var p2 = this.ctx.transformedPoint(this.canvas.width, this.canvas.height);\n        var hRatio = this.canvas.width / this.currentCanvasImage.width;\n        var vRatio = this.canvas.height / this.currentCanvasImage.height;\n        var ratio = Math.min(hRatio, vRatio);\n        var centerShift_x = (this.canvas.width - this.currentCanvasImage.width * ratio) / 2;\n        var centerShift_y = (this.canvas.height - this.currentCanvasImage.height * ratio) / 2;\n        this.ctx.clearRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y);\n        this.centerX = this.currentCanvasImage.width * ratio / 2;\n        this.centerY = this.currentCanvasImage.height * ratio / 2; //center image\n\n        this.ctx.drawImage(this.currentCanvasImage, this.currentLeftPosition, this.currentTopPosition, this.currentCanvasImage.width, this.currentCanvasImage.height, centerShift_x, centerShift_y, this.currentCanvasImage.width * ratio, this.currentCanvasImage.height * ratio); //this.addHotspots()\n      } catch (e) {\n        this.trackTransforms(this.ctx);\n      }\n    }\n  }, {\n    key: \"trackTransforms\",\n    value: function trackTransforms(ctx) {\n      var _this4 = this;\n\n      return new Promise(function (resolve) {\n        var svg = document.createElementNS(\"http://www.w3.org/2000/svg\", 'svg');\n        var xform = svg.createSVGMatrix();\n\n        _this4.ctx.getTransform = function () {\n          return xform;\n        };\n\n        var savedTransforms = [];\n        var save = ctx.save;\n\n        _this4.ctx.save = function () {\n          savedTransforms.push(xform.translate(0, 0));\n          return save.call(_this4.ctx);\n        };\n\n        var restore = ctx.restore;\n\n        _this4.ctx.restore = function () {\n          xform = savedTransforms.pop();\n          return restore.call(_this4.ctx);\n        };\n\n        var scale = _this4.ctx.scale;\n\n        _this4.ctx.scale = function (sx, sy) {\n          xform = xform.scaleNonUniform(sx, sy);\n          return scale.call(_this4.ctx, sx, sy);\n        };\n\n        var rotate = _this4.ctx.rotate;\n\n        _this4.ctx.rotate = function (radians) {\n          xform = xform.rotate(radians * 180 / Math.PI);\n          return rotate.call(_this4.ctx, radians);\n        };\n\n        var translate = _this4.ctx.translate;\n\n        _this4.ctx.translate = function (dx, dy) {\n          xform = xform.translate(dx, dy);\n          return translate.call(_this4.ctx, dx, dy);\n        };\n\n        var transform = _this4.ctx.transform;\n\n        _this4.ctx.transform = function (a, b, c, d, e, f) {\n          var m2 = svg.createSVGMatrix();\n          m2.a = a;\n          m2.b = b;\n          m2.c = c;\n          m2.d = d;\n          m2.e = e;\n          m2.f = f;\n          xform = xform.multiply(m2);\n          return transform.call(_this4.ctx, a, b, c, d, e, f);\n        };\n\n        var setTransform = _this4.ctx.setTransform;\n\n        _this4.ctx.setTransform = function (a, b, c, d, e, f) {\n          xform.a = a;\n          xform.b = b;\n          xform.c = c;\n          xform.d = d;\n          xform.e = e;\n          xform.f = f;\n          return setTransform.call(_this4.ctx, a, b, c, d, e, f);\n        };\n\n        var pt = svg.createSVGPoint();\n\n        _this4.ctx.transformedPoint = function (x, y) {\n          pt.x = x;\n          pt.y = y;\n          return pt.matrixTransform(xform.inverse());\n        };\n\n        resolve(_this4.ctx);\n      });\n    }\n  }, {\n    key: \"turnLeft\",\n    value: function turnLeft() {\n      this.moveActiveIndexDown(1);\n    }\n  }, {\n    key: \"turnRight\",\n    value: function turnRight() {\n      this.moveActiveIndexUp(1);\n    }\n  }, {\n    key: \"moveActiveIndexUp\",\n    value: function moveActiveIndexUp(itemsSkipped) {\n      if (this.stopAtEdges) {\n        if (this.activeImage + itemsSkipped >= this.props.amount) {\n          this.activeImage = this.props.amount;\n        } else {\n          this.activeImage += itemsSkipped;\n        }\n      } else {\n        this.activeImage = (this.activeImage + itemsSkipped) % this.props.amount || this.props.amount;\n      }\n\n      this.update();\n    }\n  }, {\n    key: \"moveActiveIndexDown\",\n    value: function moveActiveIndexDown(itemsSkipped) {\n      if (this.stopAtEdges) {\n        if (this.activeImage - itemsSkipped <= 1) {\n          this.activeImage = 1;\n        } else {\n          this.activeImage -= itemsSkipped;\n        }\n      } else {\n        if (this.activeImage - itemsSkipped < 1) {\n          this.activeImage = this.props.amount + (this.activeImage - itemsSkipped);\n        } else {\n          this.activeImage -= itemsSkipped;\n        }\n      }\n\n      this.update();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var image = this.images[this.activeImage - 1];\n      this.currentCanvasImage = image;\n      this.redraw();\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(clicks) {\n      //console.log(this.lastX + ' - ' + this.lastY)\n      var factor = Math.pow(1.01, clicks); //console.log(factor)\n\n      if (factor > 1) {\n        this.currentScale += factor;\n      } else {\n        if (this.currentScale - factor > 1) this.currentScale -= factor;else this.currentScale = 1;\n      }\n\n      if (this.currentScale > 1) {\n        var pt = this.ctx.transformedPoint(this.state.lastX, this.state.lastY);\n        this.ctx.translate(pt.x, pt.y); //console.log(this.currentScale)\n\n        this.ctx.scale(factor, factor);\n        this.ctx.translate(-pt.x, -pt.y);\n        this.redraw();\n      }\n    }\n  }, {\n    key: \"disableZoomin\",\n    value: function disableZoomin() {\n      document.addEventListener(\"gesturestart\", function (e) {\n        e.preventDefault();\n        document.body.style.zoom = 0.99;\n      });\n      document.addEventListener(\"gesturechange\", function (e) {\n        e.preventDefault();\n        document.body.style.zoom = 0.99;\n      });\n      document.addEventListener(\"gestureend\", function (e) {\n        e.preventDefault();\n        document.body.style.zoom = 1;\n      });\n    }\n  }, {\n    key: \"onMove\",\n    value: function onMove(pageX) {\n      if (pageX - this.movementStart >= this.speedFactor) {\n        var itemsSkippedRight = Math.floor((pageX - this.movementStart) / this.speedFactor) || 1;\n        this.movementStart = pageX;\n\n        if (this.props.spinReverse) {\n          this.moveActiveIndexDown(itemsSkippedRight);\n        } else {\n          this.moveActiveIndexUp(itemsSkippedRight);\n        }\n\n        this.redraw();\n      } else if (this.movementStart - pageX >= this.speedFactor) {\n        var itemsSkippedLeft = Math.floor((this.movementStart - pageX) / this.speedFactor) || 1;\n        this.movementStart = pageX;\n\n        if (this.props.spinReverse) {\n          this.moveActiveIndexUp(itemsSkippedLeft);\n        } else {\n          this.moveActiveIndexDown(itemsSkippedLeft);\n        }\n\n        this.redraw();\n      }\n    }\n  }, {\n    key: \"onSpin\",\n    value: function onSpin() {\n      if (this.state.playing || this.state.loopTimeoutId) {\n        this.stop();\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this.activeImage === 1) {\n        this.setState({\n          currentLoop: 0\n        });\n      }\n\n      this.setState({\n        playing: false\n      });\n      window.clearTimeout(this.state.loopTimeoutId);\n    }\n  }, {\n    key: \"loopImages\",\n    value: function loopImages() {\n      var loop = this.props.loop ? this.props.loop : 1;\n\n      if (this.activeImage === 1) {\n        if (this.state.currentLoop === loop) {\n          this.stop();\n        } else {\n          this.setState({\n            currentLoop: this.state.currentLoop + 1\n          });\n          this.next();\n        }\n      } else {\n        this.next();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.state.currentLeftPosition !== prevState.currentLeftPosition) {\n        console.log('Left Position Changed');\n      }\n\n      if (this.state.panmode !== prevState.panmode) {\n        this.attachEvents();\n      }\n\n      if (this.state.playing !== prevState.playing) {\n        if (!this.state.playing) {\n          this.stop();\n        } else {\n          this.play();\n        }\n      }\n\n      if (this.state.isFullScreen !== prevState.isFullScreen) {\n        if (!this.state.isFullScreen) {\n          //exit full screen\n          this.viewerContainerRef.classList.remove('v360-main');\n          this.viewerContainerRef.classList.remove('v360-fullscreen');\n        } else {\n          //enter full screen\n          this.viewerContainerRef.classList.add('v360-main');\n          this.viewerContainerRef.classList.add('v360-fullscreen');\n        }\n\n        this.setImage();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v360-viewer-container\",\n        ref: function ref(inputEl) {\n          _this5.viewerContainerRef = inputEl;\n        },\n        id: \"identifier\",\n        onWheel: function onWheel(e) {\n          return _this5.zoomImage(e);\n        }\n      }, !this.state.imagesLoaded ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v360-viewport\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v360-spinner-grow\"\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        ref: this.viewPercentageRef,\n        className: \"v360-percentage-text\"\n      })) : '', /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v360-viewport\",\n        ref: function ref(inputEl) {\n          _this5.viewPortElementRef = inputEl;\n        }\n      }, /*#__PURE__*/React.createElement(\"canvas\", {\n        className: \"v360-image-container\",\n        ref: function ref(inputEl) {\n          _this5.imageContainerRef = inputEl;\n        }\n      }), this.props.boxShadow ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v360-product-box-shadow\"\n      }) : ''), /*#__PURE__*/React.createElement(\"abbr\", {\n        title: \"Fullscreen Toggle\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v360-fullscreen-toggle text-center\",\n        onClick: this.toggleFullScreen\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: this.props.buttonClass === 'dark' ? 'v360-fullscreen-toggle-btn text-light' : 'v360-fullscreen-toggle-btn text-dark'\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: !this.state.isFullScreen ? 'fas fa-expand text-lg' : 'fas fa-compress text-lg'\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"v360-menu-btns\",\n        className: this.props.buttonClass\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v360-navigate-btns\"\n      }, /*#__PURE__*/React.createElement(button, {\n        clicked: this.togglePlay,\n        icon: this.state.playing ? 'fa fa-pause' : 'fa fa-play'\n      }), /*#__PURE__*/React.createElement(button, {\n        clicked: this.zoomIn,\n        icon: \"fa fa-search-plus\"\n      }), /*#__PURE__*/React.createElement(button, {\n        clicked: this.zoomOut,\n        icon: \"fa fa-search-minus\"\n      }), this.state.panmode ? /*#__PURE__*/React.createElement(button, {\n        clicked: this.togglePanMode,\n        text: \"360\\xB0\"\n      }) : /*#__PURE__*/React.createElement(button, {\n        clicked: this.togglePanMode,\n        icon: \"fa fa-hand-paper\"\n      }), /*#__PURE__*/React.createElement(button, {\n        clicked: this.prev,\n        icon: \"fa fa-chevron-left\"\n      }), /*#__PURE__*/React.createElement(button, {\n        clicked: this.next,\n        icon: \"fa fa-chevron-right\"\n      }), /*#__PURE__*/React.createElement(button, {\n        clicked: this.resetPosition,\n        icon: \"fa fa-sync\"\n      })))));\n    }\n  }]);\n\n  return React360Viewer;\n}(Component);\n\nexport default React360Viewer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}